<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>practice demo</title>
    <link rel="stylesheet" href="src/css/main.css"/>
    <link rel="stylesheet" href="src/css/practice.css"/>
</head>
<body>
    <div class="header">
        <h1 class="title">ESUI-DEMO</h1>
    </div>
    <div class="container">
        <div class="panel">
            <div class="item-title">按钮</div>
            <button data-ui="type:Button;id:normalBtn;">普通按钮</button>
            <button data-ui="type:Button;id:norbigBtn;width:200;height:50">大按钮</button>
            <button data-ui="type:Button;id:defaultBtn;">点我</button>
            <button data-ui="type:Button;id:disabledBtn;width:200;height:50">点我禁用</button>
            <button data-ui="type:Button;id:hideBtn;">点我隐藏</button>
        </div>
        <div class="panel">
            <div class="item-title"></div>
            <div data-ui="type:BoxGroup;boxType:radio;id:Radio;orientation:horizontal;">
                <ul>
                    <li>
                        <input type="radio" id="radio1" title="1" value="1">
                    </li>
                    <li>
                        <input id="radio2" type="radio" title="2" value="2">
                    </li>
                </ul>
            </div>
            <div data-ui="type:BoxGroup;boxType:checkbox;id:CheckBox;orientation:horizontal;">
                <ul>
                    <li>
                        <input type="checkbox" title="top"/>
                    </li>
                    <li>
                        <input type="checkbox" title="grd"/>
                    </li>
                </ul>
            </div>
        </div>
        <div class="panel">
            <div class="item-title">Calendar</div>
            <div data-ui="type:Calendar;dateFormat:YYYY-MM-DD"></div>

        </div>
        <div class="panel">
            <div class="item-title">CommandMenu</div>
            <div data-ui="type:CommandMenu;displayText:命令选择;"></div>
        </div>
        <div class="panel" id="myC">
            <div class="item-title">Crumb</div>
            <div data-ui="id:myCrumb;type:Crumb">
                <a href="http://www.baidu.com">alink</a>
                <a href="http://www.qq.com">blink</a>
                <a href="http://www.alibaba.com">clink</a>
            </div>
            <div data-ui="id:myCrumb;type:Crumb;separator:/">
                <a href="http://www.baidu.com">alink</a>
                <a href="http://www.qq.com">blink</a>
                <a href="">clink</a>
            </div>
        </div>
        <div class="panel">
            <div class="item-title">Form</div>
            <form data-ui-type="Form" data-ui-id="form" data-ui-auto-validate="true" data-ui-submit-button="sub-btn">
                <label data-ui="type:Label;text:输入数字:;title:数字"></label>
                <input data-ui-type="TextBox" data-ui-id="name" data-ui-child-name="name" data-ui-name="name" data-ui-mode="text"/>
                <div class="subbtn" data-ui-type="Button" data-ui-id="sub-btn">提交</div>
            </form>
        </div>
        <div class="panel">
            <div class="item-title">SearchBox</div>
            <div data-ui-type="SearchBox" data-ui-placeholder="搜索"></div>
        </div>
        <div class="panel">
            <div class="item-title">SearchBox</div>
            <div data-ui-type="Panel" style="height: 300px;border:1px solid #eee;">
                panel content
                <a href="">Think First</a>
            </div>
        </div>
        <div class="panel">
            <div class="item-title">Link</div>
            <a href="https://www.baidu.com" data-ui-type="Link" data-ui-id="linkforbaidu" data-ui-target="_blank">Baidu</a>
        </div>
        <div class="panel">
            <div class="item-title">Pager</div>
            <div data-ui-type="Pager" data-ui="layout:alignLeft;id:pager;" data-ui-page="5" data-ui-count="100"></div>
        </div>
    </div>

</body>
<script src="dep/esl/1.2.0/src/esl.js"></script>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
    require.config({
        'baseUrl': '',
        'paths': {},
        'packages': [
            {
                'name': 'mini-event',
                'location': 'dep/mini-event/1.0.2/src'
            },
            {
                'name': 'moment',
                'location': 'dep/moment/2.7.0/src',
                'main': 'moment'
            },
            {
                'name': 'underscore',
                'location': 'dep/underscore/1.5.2/src',
                'main': 'underscore'
            },
            {
                'name': 'esui',
                'location':'dep/esui/3.1.0-beta.6/src',
                'main': 'main'
            }
        ]
    });
    require([
                'esui',
                'esui/lib',
                'esui/Button',
                'esui/BoxGroup',
                'esui/CheckBox',
                'esui/Calendar',
                'esui/CommandMenu',
                'esui/Crumb',
                'esui/Form',
                'esui/Label',
                'esui/Panel',
                'esui/Link',
                'esui/TextLine',
                'esui/TextBox',
                'esui/InputControl',
                'esui/Validity',
                'esui/validator/Validity',
                'esui/validator/ValidityState',
                'esui/validator/MaxRule',
                'esui/validator/MinRule',
                'esui/validator/MaxLengthRule',
                'esui/validator/PatternRule',
                'esui/validator/RequiredRule',
                'esui/validator/MaxRule',
                'esui/SearchBox',
                'esui/Pager'
             ],
            function (ui,lib,Validity) {
                var controls = ui.init();
                var defaultBtn = controls[2];
                var disabledBtn = controls[3];
                var hideBtn = controls[4];
                var radio1 = controls[6];
                var radio2 = controls[5];
                var cmdMenu = controls[8];
                defaultBtn.onclick = function () {
                    defaultBtn.setContent('haha');
                };
                disabledBtn.onclick=function(){
                    disabledBtn.disable();
                };
                hideBtn.onclick=function(){
                    hideBtn.hide();
                };
                cmdMenu.set('datasource',[
                    {text:'haha',handler:function(){alert('haha')}},
                    {text:'xixi',handler:function(){alert('xixi')}},
                    {text:'`(*∩_∩*)',handler:function(){alert('(☆_☆)/~~')}}
                ]);
                cmdMenu.on('select', function (e) {
                    alert('我是第'+(e.index+1)+'个选项');
                });
                var form = ui.get('form');
                console.log(form);

                function submit(e) {
                    var data = form.getData();
                }
                form.on('submit',submit);
                var name = form.getChild('name');
                console.log(name);
                var maxLength = 30;
                name.on('input', function () {
                    var value = this.getValue();
                    var leftLength = maxLength-value.length;
                    var validity = new Validity();
                    if(leftLength>0){
                        validity.setCustomValidState('notice');
                        validity.setCustomMessage('you can input '+leftLength+'word');
                    }
                    this.showValidity(validity);
                });
                var pager = ui.get('pager');
                pager.set('backText','←Pre');
                pager.set('forwardText','Next→');
            }
            )
</script>
</html>