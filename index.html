<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>practice demo</title>
    <link rel="stylesheet" href="src/css/main.css"/>
    <link rel="stylesheet" href="src/css/practice.css"/>
</head>
<body>
    <div class="header">
        <h1 class="title">ESUI-DEMO</h1>
    </div>
    <div data-ui-type="Sidebar" data-ui-id="sideBar" data-ui="mode:autohide">
        <div>导航</div>
        <div>
            <a href="#button" class="block">Button</a>
            <a href="#boxgroup" class="block">BoxGroup</a>
            <a href="#calendar" class="block">Calendar</a>
            <a href="#commandmenu" class="block">CommandMenu</a>
            <a href="#myC" class="block">Crumb</a>
            <a href="#form" class="block">From</a>
            <a href="#searchbox" class="block">SearchBox</a>
            <a href="#panel" class="block">Panel</a>
            <a href="#link" class="block">Link</a>
            <a href="#select" class="block">Select</a>
            <a href="#tab" class="block">Tab</a>
            <a href="#textline" class="block">TextLine</a>
            <a href="#tip" class="block">Tip</a>
            <a href="#toast" class="block">Toast</a>
            <a href="#tree" class="block">Tree</a>
            <a href="#wizard" class="block">Wizard</a>
            <a href="#region" class="block">Region</a>
            <a href="#schedule" class="block">Schedule</a>

        </div>
    </div>
    <div class="container">
        <div class="panel" id="button">
            <div class="item-title">Button</div>
            <div class="content">
                <button data-ui="type:Button;id:normalBtn;">普通按钮</button>
                <button data-ui="type:Button;id:norbigBtn;width:200;height:50">大按钮</button>
                <button data-ui="type:Button;id:defaultBtn;">点我</button>
                <button data-ui="type:Button;id:disabledBtn;width:200;height:50">点我禁用</button>
                <button data-ui="type:Button;id:hideBtn;">点我隐藏</button>
            </div>
        </div>
        <div class="panel" id="boxgroup">
            <div class="item-title">BoxGroup</div>
            <div class="content">
                <div data-ui="type:BoxGroup;boxType:radio;id:Radio;orientation:horizontal;">
                    <ul>
                        <li>
                            <input type="radio" data-ui-type="Radio" data-ui-id="radio1" title="1" value="1">
                        </li>
                        <li>
                            <input id="radio2" type="radio" title="2" value="2">
                        </li>
                    </ul>
                </div>

                <div data-ui="type:BoxGroup;boxType:checkbox;id:CheckBox;orientation:horizontal;">
                    <ul>
                        <li>
                            <input type="checkbox" title="top" value="top"/>
                        </li>
                        <li>
                            <input type="checkbox" title="grd" value="grd"/>
                        </li>
                        <li>
                            <input type="checkbox" title="good" value="good"/>
                        </li>
                    </ul>
                </div>
                <p id="selectValue">已选值：</p>
            </div>
        </div>
        <div class="panel" id="calendar">
            <div class="item-title">Calendar</div>
            <div class="content">
                <div data-ui="type:Calendar;dateFormat:YYYY-MM-DD"></div>
            </div>
        </div>
        <div class="panel" id="commandmenu">
            <div class="item-title">CommandMenu</div>
            <div class="content">
                <div data-ui="type:CommandMenu;displayText:命令选择;"></div>
            </div>
        </div>
        <div class="panel" id="myC">
            <div class="item-title">Crumb</div>
                <div class="content">
                <div data-ui="id:myCrumb;type:Crumb">
                    <a href="http://www.baidu.com">alink</a>
                    <a href="http://www.qq.com">blink</a>
                    <a href="http://www.alibaba.com">clink</a>
                </div>
                <div data-ui="id:myCrumb;type:Crumb;separator:/">
                    <a href="http://www.baidu.com">alink</a>
                    <a href="http://www.qq.com">blink</a>
                    <a href="">clink</a>
                </div>
            </div>
        </div>
        <div class="panel" id="form">
            <div class="item-title">Form</div>
            <div class="content">
                <form data-ui-type="Form" data-ui-id="form" data-ui-auto-validate="true" data-ui-submit-button="sub-btn">
                    <label data-ui="type:Label;text:输入邮箱:;title:邮箱"></label>
                    <input data-ui-type="TextBox" data-ui-id="email"
                           data-ui-name="email" data-ui-mode="text"
                           data-ui-title="email"
                           data-ui-required="required"
                           data-ui-pattern="^([\w\.\-]+)@([\w\-]+)(\.([a-zA-Z]{2,4})){1,2}$"
                           data-ui-patternErrorMessage="邮箱"/>
                    <label data-ui="type:Label;text:输入数字ID:;title:数字"></label>
                    <input data-ui-type="TextBox" data-ui-id="number"
                           data-ui-child-name="number"
                           data-ui-name="number" data-ui-mode="text"
                           data-ui-title="数字"
                           data-ui-required="required"
                           data-ui-pattern="^[0-9]\d*(\.\d+)?$"
                           data-ui-patternErrorMessage="数字"/>
                    <label data-ui="type:Label;text:输入个性签名:;title:签名" ></label>
                    <input data-ui-type="TextBox" data-ui-id="name" data-ui-child-name="name" data-ui-name="name" data-ui-mode="text" data-ui-required="required"/>

                    <div class="subbtn" data-ui-type="Button" data-ui-id="sub-btn">提交</div>
                </form>
            </div>
        </div>
        <div class="panel" id="searchbox">
            <div class="item-title">SearchBox</div>
            <div class="content">
                <div data-ui-type="SearchBox" data-ui-placeholder="搜索"></div>
            </div>
        </div>
        <div class="panel" id="panel">
            <div class="item-title">Panel</div>
            <div class="content">
                <div data-ui-type="Panel" data-ui-id="panel" class="exp-panel">
                    panel content
                    <a href="">Think First</a>
                </div>
                <button data-ui-id="setContent" data-ui-type="Button">设置内容</button>
            </div>
        </div>
        <div class="panel" id="link">
            <div class="item-title">Link</div>
            <div class="content">
                <a href="https://www.baidu.com" data-ui-type="Link" data-ui-id="linkforbaidu" data-ui-target="_blank">Baidu</a>
            </div>
        </div>
        <div class="panel" id="pager">
            <div class="item-title">Pager</div>
            <div class="content">
                <div data-ui-type="Pager" data-ui="layout:alignLeft;id:pager;" data-ui-page="5" data-ui-count="200"></div>
            </div>
        </div>
        <div class="panel" id="select">
            <div class="item-title">Select</div>
            <div class="content">
                <div data-ui-id="select" data-ui-type="Select" data-ui-width="200"></div>
            </div>
         </div>
        <div class="panel" id="tab">
            <div class="item-title">Tab</div>
            <div class="content">
                <div data-ui-id="tab" data-ui-type="Tab" data-ui-orientation="horizontal">
                    <div id="tabPanel1" data-ui-type="Panel" class="exp-panel">content for Tab1</div>
                    <div id="tabPanel2" data-ui-type="Panel" class="exp-panel">content for Tab2</div>
                    <div id="tabPanel3" data-ui-type="Panel" class="exp-panel">content for Tab3</div>
                </div>
            </div>
        </div>
        <div class="panel" id="textline">
            <div class="item-title">TextLine</div>
            <div class="content">
                <div data-ui-id="textLine" data-ui-type="TextLine"></div>
            </div>
        </div>
        <div class="panel" id="tip">
            <div class="item-title">Tip</div>
            <div class="content">
                <span>提示:</span>
                <div data-ui-id="tip" data-ui-type="Tip" title="小提示">haha</div>
                <span>点击:</span>
                <div data-ui-type="Tip" data-ui-id="tipBtn" id="tipLabel" title="o-O" data-ui="showMode:click">小提示</div>
                <br>
                <br>
                <label id="labelTip" data-ui-id="labelTip" data-ui-type="Label">我是提示</label>

            </div>
        </div>
        <div class="panel" id="toast">
            <div class="item-title">Toast</div>
            <div class="content">
                <button id="normal">normal</button>
                <button id="info">info</button>
                <button id="alert">alert</button>
                <button id="error">error</button>
                <button id="success">success</button>
            </div>
        </div>
        <div class="panel" id="tree">
            <div class="item-title">Tree</div>
            <div class="content" id="tree3">
                <div data-ui-type="Tree" data-ui-id="tree"></div>
                <div data-ui-type="Tree" data-ui-id="tree2" data-ui="skin:folder"></div>
            </div>
        </div>
        <div class="panel" id="wizard">
            <div class="item-title">Wizard</div>
            <div class="content" id="wiz">
                <button data-ui-id="prev" data-ui-type="Button">上一步</button>
                <button data-ui-id="next" data-ui-type="Button">下一步</button>
                <div id="a">左转</div>
                <div id="b">直走</div>
                <div id="c">右转</div>

            </div>
        </div>
        <div class="panel">
            <div class="item-title" id="region">Region</div>
            <div class="content">
                <div data-ui-type="Region" data-ui-id="region"></div>
            </div>
        </div>
        <div class="panel">
            <div class="item-title" id="schedule">Schedule</div>
            <div class="content">
                <div data-ui-type="Schedule" data-ui-id="schedule"></div>
            </div>
        </div>
        <div class="panel">
            <div class="item-title" id="schedule">RC</div>
            <div class="content">
                <div data-ui-type="RangeCalendar" data-ui-name="test"
                    data-ui-id="test"
                    data-ui-value=""
                    data-ui-endless-check="true"
                    data-ui-range="2011-03-02,2019-04-02",
                    data-ui-showed-short-cut="昨天,最近7天,上周"></div>
            </div>
        </div>
    </div>
</body>
<script src="dep/esl/1.2.0/src/esl.js"></script>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
    require.config({
        'baseUrl': '',
        'paths': {},
        'packages': [
            {
                'name': 'mini-event',
                'location': '../dep/mini-event/1.0.2/src',
                'main': 'main'
            },
            {
                'name': 'moment',
                'location': '../dep/moment/2.7.0/src',
                'main': 'moment'
            },
            {
                'name': 'underscore',
                'location': '../dep/underscore/1.5.2/src',
                'main': 'underscore'
            },
            {
                'name': 'esui',
                'location': '../dep/esui/3.1.0/src',
                'main': 'main'
            },
            {
                'name': 'esl',
                'location': '../dep/esl/1.2.0/src'
            },
            {
                'name': 'etpl',
                'location': '../dep/etpl/3.0.0/src',
                'main': 'main'
            }
        ]
    });
    require([
                'esui',
                'esui/lib',
                'esui/Button',
                'esui/BoxGroup',
                'esui/CheckBox',
                'esui/Calendar',
                'esui/CommandMenu',
                'esui/Crumb',
                'esui/Form',
                'esui/Label',
                'esui/Dialog',
                'esui/Panel',
                'esui/Link',
                'esui/TextLine',
                'esui/TextBox',
                'esui/Tab',
                'esui/Tip',
                'esui/TipLayer',
                'esui/Tree',
                'esui/TreeStrategy',
                'esui/Select',
                'esui/Sidebar',
                'esui/Schedule',
                'esui/Region',
                'esui/InputControl',
                'esui/Validity',
                'esui/validator/Validity',
                'esui/validator/ValidityState',
                'esui/validator/MaxRule',
                'esui/validator/MinRule',
                'esui/validator/MaxLengthRule',
                'esui/validator/PatternRule',
                'esui/validator/RequiredRule',
                'esui/validator/MaxRule',
                'esui/SearchBox',
                'esui/Pager',
                'esui/Wizard',
                'esui/Frame',
                'esui/RangeCalendar',
                'esui/RichCalendar'
             ],
            function (ui,lib) {
                var controls = ui.init();
                var defaultBtn = controls[3];
                var disabledBtn = controls[4];
                var hideBtn = controls[5];
                var cmdMenu = controls[9];

                /*Button Start*/
                defaultBtn.onclick = function () {
                    defaultBtn.setContent('haha');
                };
                disabledBtn.onclick=function(){
                    disabledBtn.disable();
                };
                hideBtn.onclick=function(){
                    hideBtn.hide();
                };
                /*Button End*/

                /*CheckBox Start*/
                var allCheck = ui.get('CheckBox');
                allCheck.on('change', function () {
                            $('#selectValue').text('已选值：' + this.getValue());
                        }
                );
                /*CheckBox End*/

                /*CommandMenu Start*/
                cmdMenu.set('datasource',[
                    {text:'haha',handler:function(){alert('haha')}},
                    {text:'xixi',handler:function(){alert('xixi')}},
                    {text:'`(*∩_∩*)',handler:function(){alert('(☆_☆)/~~')}}
                ]);
                cmdMenu.on('select', function (e) {
                    alert('我是第'+(e.index+1)+'个选项');
                });
                /*CommandMenu End*/


                /*Form Start*/
                var form = ui.get('form');
                console.log(form);

                function submit(e) {
                    var data = form.getData();
                    console.log(data);
                }
                form.on('submit',submit);
                var name = form.getChild('name');
                console.log(name);
                var maxLength = 30;
                name.on('input', function () {
                    var value = this.getValue();
                    var Validity = require('esui/validator/Validity');
                    var validity = new Validity();
                    var leftLength = maxLength-value.length;
                    if(leftLength>0){
                        validity.setCustomValidState('notice');
                        validity.setCustomMessage('you can input '+leftLength+'words');
                    }else {
                        validity.setCustomValidState('warning');
                        validity.setCustomMessage('还可以输入' + leftLength + '个字符');
                    }
                    this.showValidity(validity);
                });
                /*Form End*/

                /*Pager Start*/
                var pager = ui.get('pager');
                pager.set('backText','←Pre');
                pager.set('forwardText','Next→');
                /*Pager End*/

                /*Panel Start*/
                var panel = ui.get('panel'), setContent = ui.get('setContent');
                setContent.onclick = function(){
                    panel.setContent('内容已经被更改！');
                };
                /*Panel End*/

                /*Select Start*/
                var select = ui.get('select');
                select.set('emptyText','--请选择星球--');
                var select_data=[
                    {name:'star1',value:'Mars'},
                    {name:'star2',value:'Moon'},
                    {name:'star3',value:'earth'}
                ];
                select.set('datasource',select_data);
                select.set('itemTemplate','<span>&nbsp;&nbsp;&nbsp;&nbsp;${text}</span>');
                select.on('change',function(e){
                    alert(this.getValue());
                });
                /*Select End*/

                /*Tab Start*/
                var tab = ui.get("tab");
                var data_tab =[
                    {panel:'tabPanel1',title:'Tab1'},
                    {panel:'tabPanel2',title:'Tab2'},
                    {panel:'tabPanel3',title:'Tab3'}
                ];
                tab.set('tabs',data_tab);
                /*Tab End*/

                /*Tip Start*/
                var tip = ui.get('tip');
                var tipLayer = ui.create('TipLayer', {
                    title: '最普通的提示',
                    content: '随便提示一下随便提示一下随便提示一下'
                });
                var TipLayer =  require('esui/TipLayer');
                var tipL = ui.create('TipLayer',{
                    content:'XiaoT',
                    title:'jack'
                });
                var onceNotice = TipLayer.onceNotice({
                    content: '啥东西',
                    targetDOM: 'labelTip'
                });

                /*Tip End*/

                /*Tree Start*/
                var data_tree= {
                    id: '1',
                    text: '根节点',
                    children: [{
                        id:'2',
                        text:'上',
                        children:[
                            {id:'21',text:'上1'},
                            {id:'22',text:'中2'},
                            {id:'23',text:'下3'}
                        ]
                        },
                        {
                            id:'3',
                            text:'中',
                            children:[
                                {id:'31',text:'中1'},
                                {id:'32',text:'中2'},
                                {id:'33',text:'中3'}
                            ]
                        },{
                            id:'4',
                            text:'下'
                        }
                    ]
                };
                var data_tree2= {
                    id: '1',
                    text: 'root',
                    children: [{
                        id:'2',
                        text:'文件夹1',
                        children:[
                            {id:'21',text:'文档'},
                            {id:'22',text:'电影'},
                            {id:'23',text:'歌曲'}
                        ]
                    },
                        {
                            id:'3',
                            text:'文件夹2',
                            children:[
                                {id:'31',text:'OFFCIE'},
                                {id:'32',text:'TEST'},
                                {id:'33',text:'WORK'}
                            ]
                        },{
                            id:'4',
                            text:'文件夹2'
                        }
                    ]
                };
                var tree = ui.get('tree');
                var tree2 = ui.get('tree2');
                tree2.set('datasource',data_tree2);
                tree.set('datasource',data_tree);
                var TreeStrategy = require('esui/TreeStrategy');
                var strategy = new TreeStrategy();
                strategy.attachTo(tree);
                strategy.attachTo(tree2);
                console.log(tree2);
                /*Tree End*/

                /*Wizard Start*/
                var Wizard = require('esui/Wizard');
                var prev = ui.get('prev');
                var next = ui.get('next');
                var step = [
                    {text:'1',panel:'a'},
                    {text:'2',panel:'b'},
                    {text:'3',panel:'c'}
                ];
                var wiz = new Wizard({steps:step,activeIndex:0,skin:'default',finishText:'终点'});
                console.log(wiz);
                wiz.appendTo(document.getElementById('wiz'));
                prev.onclick = function(){
                    wiz.stepPrevious();
                };
                next.onclick = function () {
                    wiz.stepNext();
                };
                /*Wizard End*/
                var m = require('moment');
                var test2 = ui.get('test');
                var okBtn = test2.getChild('okBtn');
                test2.on('change', function () {
                    var t = test2.getRawValue().begin;
                    var t2 = m(t).format('YYYY-MM-DD')
                    alert(t2);
                });  
            });
    require([
        'esui',
        'esui/Toast',
        'esui/TextBox'
    ],function(ui,Toast){

        var normal = document.getElementById('normal');
        var alert = document.getElementById('alert');
        var info = document.getElementById('info');
        var error = document.getElementById('error');
        var success = document.getElementById('success');
        var content = 'Hello Toast !';
        normal.onclick = function () {
            Toast.show(content).show();
        };
        info.onclick = function(){
            Toast.info(content).show();
        };
        alert.onclick = function () {
            Toast.alert(content).show();
        };
        error.onclick = function () {
            Toast.error(content).show();
        };
        success.onclick = function () {
            Toast.success(content).show();
        };


    });
</script>
</html>